var t,e=function(){function t(e){if(!(this instanceof t))return new t(args);var l,s=this;function h(t){var e=i(.3,1),l=i(t.initX-t.distance,t.initX+t.distance),a=i(t.initY-t.distance,t.initY+t.distance),s=t.speed;TweenMax.to(t,s,{scaleX:e,scaleY:e,x:l,y:a,onComplete:h,onCompleteParams:[t],ease:Cubic.easeInOut}),TweenMax.to(t,s/2,{alpha:i(.1,t.alphaMax),onComplete:n,onCompleteParams:[t,s]})}function n(t,e){t.speed=i(2,10),TweenMax.to(t,e/2,{alpha:0})}this.canvas_id=e,this.stage=new createjs.Stage(e),this.totalWidth=this.canvasWidth=document.getElementById(e).width=document.getElementById(e).offsetWidth,this.totalHeight=this.canvasHeight=document.getElementById(e).height=document.getElementById(e).offsetHeight,this.compositeStyle="lighter",this.particleSettings=[{id:"small",num:300,fromX:0,toX:this.totalWidth,ballwidth:3,alphamax:.4,areaHeight:.5,color:"#D7E8FF",fill:!1},{id:"medium",num:100,fromX:0,toX:this.totalWidth,ballwidth:8,alphamax:.3,areaHeight:1,color:"#0A719B",fill:!0},{id:"large",num:10,fromX:0,toX:this.totalWidth,ballwidth:30,alphamax:.2,areaHeight:1,color:"#0A719B",fill:!0}],this.particleArray=[],this.lights=[{ellipseWidth:400,ellipseHeight:100,alpha:.6,offsetX:0,offsetY:0,color:"#0299d6"},{ellipseWidth:350,ellipseHeight:250,alpha:.3,offsetX:-50,offsetY:0,color:"#0299d6"},{ellipseWidth:100,ellipseHeight:80,alpha:.2,offsetX:80,offsetY:-50,color:"#0299d6"}],this.stage.compositeOperation=s.compositeStyle,this.applySettings=function(t,e,l,h){t.speed=i(1,3),t.initY=a(0,s.totalHeight,1,[s.totalHeight*(2-h/2)/4,s.totalHeight*(2+h/2)/4],.8),t.initX=a(e,l,1,[e+(l-e)/4,e+3*(l-e)/4],.6)},function(){for(var t,e,i,l=0,a=s.lights.length;l<a;l++)(t=new createjs.Shape).graphics.beginFill(s.lights[l].color).drawEllipse(0,0,s.lights[l].ellipseWidth,s.lights[l].ellipseHeight),t.regX=s.lights[l].ellipseWidth/2,t.regY=s.lights[l].ellipseHeight/2,t.y=t.initY=s.totalHeight/2+s.lights[l].offsetY,t.x=t.initX=s.totalWidth/2+s.lights[l].offsetX,e=(i=new createjs.BlurFilter(s.lights[l].ellipseWidth,s.lights[l].ellipseHeight,1)).getBounds(),t.filters=[i],t.cache(e.x-s.lights[l].ellipseWidth/2,e.y-s.lights[l].ellipseHeight/2,2*e.width,2*e.height),t.alpha=s.lights[l].alpha,t.compositeOperation="screen",s.stage.addChildAt(t,0),s.lights[l].elem=t;TweenMax.fromTo(s.lights[0].elem,10,{scaleX:1.5,x:s.lights[0].elem.initX,y:s.lights[0].elem.initY},{yoyo:!0,repeat:-1,ease:Power1.easeInOut,scaleX:2,scaleY:.7}),TweenMax.fromTo(s.lights[1].elem,12,{x:s.lights[1].elem.initX,y:s.lights[1].elem.initY},{delay:5,yoyo:!0,repeat:-1,ease:Power1.easeInOut,scaleY:2,scaleX:2,y:s.totalHeight/2-50,x:s.totalWidth/2+100}),TweenMax.fromTo(s.lights[2].elem,8,{x:s.lights[2].elem.initX,y:s.lights[2].elem.initY},{delay:2,yoyo:!0,repeat:-1,ease:Power1.easeInOut,scaleY:1.5,scaleX:1.5,y:s.totalHeight/2,x:s.totalWidth/2-200})}(),function(){for(var t=0,e=s.particleSettings.length;t<e;t++)for(var a,n=s.particleSettings[t],o=0;o<n.num;o++){if(a=new createjs.Shape,n.fill){a.graphics.beginFill(n.color).drawCircle(0,0,n.ballwidth),l=new createjs.BlurFilter(n.ballwidth/2,n.ballwidth/2,1),a.filters=[l];var r=l.getBounds();a.cache(-50+r.x,-50+r.y,100+r.width,100+r.height)}else a.graphics.beginStroke(n.color).setStrokeStyle(1).drawCircle(0,0,n.ballwidth);a.alpha=i(0,.1),a.alphaMax=n.alphamax,a.distance=2*n.ballwidth,a.ballwidth=n.ballwidth,a.flag=n.id,s.applySettings(a,n.fromX,n.toX,n.areaHeight),a.speed=i(2,10),a.y=a.initY,a.x=a.initX,a.scaleX=a.scaleY=i(.3,1),s.stage.addChild(a),h(a),s.particleArray.push(a)}}()}return t.prototype.render=function(){this.stage.update()},t.prototype.resize=function(){this.totalWidth=this.canvasWidth=document.getElementById(this.canvas_id).width=document.getElementById(this.canvas_id).offsetWidth,this.totalHeight=this.canvasHeight=document.getElementById(this.canvas_id).height=document.getElementById(this.canvas_id).offsetHeight,this.render();for(var t=0,e=this.particleArray.length;t<e;t++)this.applySettings(this.particleArray[t],0,this.totalWidth,this.particleArray[t].areaHeight);for(var i=0,l=this.lights.length;i<l;i++)this.lights[i].elem.initY=this.totalHeight/2+this.lights[i].offsetY,this.lights[i].elem.initX=this.totalWidth/2+this.lights[i].offsetX,TweenMax.to(this.lights[i].elem,.5,{x:this.lights[i].elem.initX,y:this.lights[i].elem.initY})},t}();function i(t,e){return t+(e-t)*Math.random()}function l(t,e){var i=Math.pow(10,e);return Math.round(i*t)/i}function a(t,e,i,a,s){return null==e&&(e=0),null==i&&(i=0),null==a&&(a=0),null==s&&(s=0),t==e?t:a&&Math.random()<=s?l(Math.random()*(a[1]-a[0])+a[0],i):l(Math.random()*(t-e)+e,i)}t=new e("particles-animation-bg"),createjs.Ticker.addEventListener("tick",(function(){t.render()})),window.addEventListener("resize",(function(){t.resize()}),!1);
